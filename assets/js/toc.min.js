document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("toc");if(t){const e=document.querySelectorAll(".post-content h2, .post-content h3, .post-content h4, .post-content h5, .post-content h6");e.forEach(t=>{t.id||(t.id=t.textContent.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"))});if(document.querySelector(".post-content")&&window.innerWidth>=992){const e=t.offsetTop;window.addEventListener("scroll",function(){window.pageYOffset>e?t.classList.add("sticky"):t.classList.remove("sticky")})}window.addEventListener("scroll",function(){if(0===e.length)return;let t="";e.forEach(e=>{const o=e.offsetTop-100;window.scrollY>=o&&(t=e.id)});const o=document.querySelectorAll(".toc-link");if(o.forEach(t=>{t.classList.remove("active")}),t){const e=document.querySelector(`.toc-link[href="#${t}"]`);e&&e.classList.add("active")}});document.querySelectorAll(".toc-link").forEach(t=>{t.addEventListener("click",function(t){t.preventDefault();const e=this.getAttribute("href"),o=document.querySelector(e);o&&window.scrollTo({top:o.offsetTop-80,behavior:"smooth"})})})}});