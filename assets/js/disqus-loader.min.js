document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("disqus-container");if(e){const n=document.getElementById("disqus_thread"),o=n.getAttribute("data-disqus-shortname");if(!o)return void console.error("Disqus shortname not found");let i=!1;function t(){if(i)return;const e=document,t=e.createElement("script");t.src="https://"+o+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t),i=!0,n.innerHTML='<div class="disqus-loading">Loading comments...</div>'}"IntersectionObserver"in window?function(){if(i)return;new IntersectionObserver((e,n)=>{e.forEach(e=>{e.isIntersecting&&(t(),n.unobserve(e.target))})},{threshold:.1}).observe(e)}():window.addEventListener("scroll",function(){const n=e.getBoundingClientRect();n.top<window.innerHeight&&n.bottom>=0&&(t(),window.removeEventListener("scroll",this))});const s=e.querySelector("h3");s&&s.addEventListener("click",t)}});